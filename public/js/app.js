"use strict";

class App{
  constructor(){
    this.guitar = [

  {
        "id": 1,
        "name": "Epiphone Acoustic Guitar",
        "details": "The Epiphone DR-100 Acoustic Guitar is a nicely crafted acoustic guitar that sports a select spruce top and mahogany body and neck. This guitar epitomizes Epiphone's focus on affordable quality. Epiphone builds the DR-100 Acoustic Guitar with chrome hardware, precision construction, and rosewood fingerboard with dot inlays.",
        "image": "img/epiphone acoustic guitar.jpg",
      "price": "$14, 320",
      
      },
      {
        "id": 2,
        "name": "Ktone Double Neck Acousic Guitar",
        "details": "For those searching for the perfect guitar to add a little variety to their playing, the Ktone Acoustic Electric Double Neck Guitar merges together the versatility of the double neck guitar with the popular sound of the acoustic electric guitar.",
        "image": "img/ktone double neck acousic guitars.jpg",
       "price": "$13 420",
      },
      {
        "id": 3,
        "name": "Luna Acoustic Guitar",
        "details": "The Muse M-Burst is part of the Luna Muse series of acoustic guitars which are a tribute to creative inspiration. Like their namesakes, the muses, these instruments will fire the creative spirit with their mellow tones and beautiful, rich woods. Lovingly designed to incorporate the delicate twists and turns of ancient Celtic artwork, the Muse guitars are built to please players who seek instruments that produce exquisite sound and offer unparalleled playing comfort. On the heelcap of each Muse is a Celtic trisele, the trinity of life and symbol of the goddess in three forms: maiden, mother and crone. Like music, this ancient symbol represents the eternal rhythm of life.",
        "image": "img/Luna-acoustic.jpg",
        "price": "$12,420",
      },
      {
        "id": 4,
        "name": "Luna Fauna Phoenix Acoustic Guitar",
        "details": "he triumphant spirit of the phoenix is perfectly captured in Luna's Phoenix acoustic/electric guitar. The soaring bird in abalone is stunning against the black lacquer-look finish of this cutaway folk style instrument. Constructed of select spruce and mahogany, the folk-style Phoenix guitar is equipped with B-Band T35 preamp with built-in tuner. The Luna Fauna Phoenix is a distinctive guitar for players who celebrate the timeless joy of music. ",
        "image": "img/Luna-Fauna-Phoenix-Acoustic-Guitar.jpg",
       "price": "$7, 350",
      },
      {
        "id": 5,
        "name": "Acoustic Guitar with Pick",
        "details": "The shapes, sizes, and thicknesses of regular picks are just as variable as their composition. A rounded triangle, as pioneered by D’Andrea, is the most common shape, and a teardrop with a pointy tip, like on Dunlop’s Jazz III, is a popular variation. Other familiar shapes include the equilateral triangle and the shark-fin shape—kind of the Swiss Army knife of plectrums with its various points for string contact.",
        "image": "img/Acoustic Guitar with Pick.jpg",
        "price": "$8, 225",
      },
      {

        "id": 6,
        "name": "Classical Guitar with Fanned Frets",
        "details": "Fanned frets (multiscale fingerboard) allow for an optimal scale length for each string (freely vibrating string length). This is based simply on physical laws. The lower the pitch of a string, the longer it should be. Treble strings may be correspondingly shorter. For the presented guitar, this results in a scale length from 63.5 in treble to 66.5 cm in the bass range. The multiscale fretboard allows the guitarist a more ergonomic, fan-like hand movement, hence the name fanned frets. With a 7-string guitar, fanned frets are even more important in order to achieve the full virtuosity of playing. Fanned frets also provide 100% intonation. Therefore a special bridge has to be developed. The trick with this task is, not to spoil the design of the guitar.",
        "image": "img/7-string Classical Guitar with Fanned Frets.jpg",
        "price": "$12, 520",
      },
      {

        "id": 7,
        "name": "Kiesel Aries Bevel-top Bolt Neck Electric Guitar",
        "details": "The Kiesel Guitars Custom Shop is excited to offer the all-new Aries A6 bevel-top bolt neck guitar. The A6 is modeled on the popular SCB6, with similar aesthetics and sleek and stylish looks in a 24-fret, 25.5 scale bolt-on neck configuration. A newly-designed easy-access neck joint with recessed ferrules, Kiesel Lithium pickups and dual carbon-fiber neck rods elevate the A6 to the ranks of elite instruments.",
       "image": "img/A6 KIESEL ARIES BEVEL-TOP BOLT NECK ELECTRIC GUITAR.jpg",
       "price": "$13, 340",
      },
       {

        "id": 9,
        "name": "Boulder Creek Classical Guitars",
        "details": "Played au natural, the ECRM6-N presents a round, warm voice with enough sweetness to give it a little bloom and shimmer, though this guitar might be considered a touch “muted” in many circumstances. It certainly offers less volume than the ECR4-NS, which is no great surprise given its more trim dimensions and alternate body woods. Amped up, however, the ACUS-4TR pickup and preamp system livens up the guitar’s acoustic voice and minimizes any constraints of volume or presence, while the laminated construction contributes to an electric-acoustic instrument with excellent resistance to feedback.",
       "image": "img/Boulder Creek Classical Guitars.jpg",
        "price": "14,430",
      },
      {

        "id": 10,
        "name": "Gretsch Guitars G5420T Electromatic Hollowbody Electric Guitar",
        "details": "The G5420T Electromatic Hollowbody Electric Guitar is a sharp Gretsch guitar with a bound single-cutaway hollowbody featuring sound-post bracing and elegant bound f-holes. Other features include a maple neck, bound rosewood fingerboard with 22 medium jumbo frets and hump-block pearloid inlays, silver plexi pickguard, three-position pickup switch, classic  arrow control knobs, rosewood-based Adjusto-Matic bridge and Bigsby-licensed B60 vibrato tailpiece, vintage-style open-back tuners and chrome-plated hardware.",
        "image": "img/Gretsch Guitars G5420T Electromatic Hollowbody Electric Guitar.jpg",
        "price": "12, 520",
      },
      {

        "id":11,
        "name": "Takamine EG124C Classical Guitar",
        "details": "The sound you can get from the Takamine classical EG124C is excellent. The body projects a warm bass and soft highs.  Making it sound more much more expensive than it actually is.",
        "image": "img/Takamine EG124C Classical Guitar.jpg",

        "price": "$9,220",
      },
      {

        "id": 12,
        "name": "STC  Solid Red Cedar Top Classical Guitar",
        "details": "A nice quality classical nylon strings guitar, playable and with good sound and intonation. Manufactured in the Czech republic. Mahogany back and sides and solid red cedar top, with gloss finish.",
        "image": "img/STC  solid red cedar top classical guitar.jpg",
        "price": "$8,220",
      },
      {

        "id": 13,
        "name": "Squier Mini Strat Electric Guitar",
        "details": "The Squier Mini Strat Electric Guitar is a totally capable starter electric guitar. With 20 frets, it's perfect for small hands. Features 3 single-coil pickups, master volume and tone controls, rosewood fretboard, and a hardtail bridge. ",
        "image": "img/squier-mini-strat-electric-guitar.jpg",
        "price": "$13,220",
      },
      {

        "id": 14,
        "name": "Luna Acoustic",
        "details": "The beautiful soundhole design seems to pop right off the Fauna Butterfly's gorgeous quilted maple top. The guitar also features a mahogany neck with rosewood fingerboard (with Luna signature moonface fretmarkers) which gives it a real inviting tone, and B-Band preamp with 4-band EQ and digital tuner when you are plugged in.",
        "image": "img/Luna-acoustic.jpg",
        "price": "$15,220",
      },
      {

        "id": 15,
        "name": "Epiphones Electric Guitar",
        "details": "This guitar has a very powerful sound. Just sitting there, it steals the show from my Fenders with its impeccable finish, its flame maple top, and its neck inlays. I'd highly recommend this guitar and would definitely replace it with the same model if lost or stolen. The thing that I like best about this guitar is the beefy sound.",
        "image": "img/epiphones electric guitars.jpg",
        "price": "$14,220",
      }, 

  ];
 

  
  }

  render(html, component){

    component.innerHTML += html;
  }

  reRender(html, component){

    component.innerHTML = html;
  }
   }


class Component extends App{
  constructor(){
    
    super();
  }

guitarDesignLayout(){
  let html = `

<nav>
    <div class="nav-wrapper  #26a69a teal lighten-1">
      <a href="# class="brand-logo"> &nbsp&nbsp&nbsp&nbspMyGuitar </a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
      <li>
      <li><a href="#" onclick="component.Home()"><i class="waves-effect waves-light btn-large">HOME</i></a></li>
     <li><a href="#" onclick="component.guitarList()"><i class="waves-effect waves-light btn-large">Guitar List</i></a></li> 
   <li><a href="#" onclick="component.guitarCreate()"><i class="waves-effect waves-light btn-large">Create</i></a></li>
  
      </ul>
    </div>
 <div id="Home"></div>
    </nav>
 <div class="slider">
    <ul class="slides">
      <li>
        <img src="img/background1.jpg"> <!-- random image -->
        <div class="caption center-align">
          <h3>Go where the guitar takes you ..</h3>   
        </div>
      </li>
      <li>
        <img src="img/background2.jpg"> <!-- random image -->
        <div class="caption center-align">
          <h3>Music is what is feeling sounds Like ..</h3>
        </div>
      </li>
      <li>
        <img src="img/background3.jpg"> <!-- random image -->
        <div class="caption right-align">
          <h5 class="light grey-text text-lighten-3">Perfect Hands Make Perfect Music</h5>
        </div>
      </li>
      <li>
        <img src="img/background4.jpg"> <!-- random image -->
        <div class="caption center-align">
          <h3>MUSIC IS LIFE</h3>
          
        </div>
      </li>
    </ul>
  </div>
  

</div>


        
        <div id="guitarRecent"></div>
        <div id="Guitar"></div>
        <div id="guitarList"></div>
        <div id="guitarCreate"></div>
      <div id="updateGuitarNow"></div>


        
        <center>
        <footer class="page-footer #26a69a teal lighten-1">
          <div class="container">
          
              <div class="col l6 ">
                <h5 class="white-text">Play Guitar</h5>
                <p class="grey-text text-lighten-4">The Guitar is a small orchestra.It is a polyphonic.
                Every string is a different color and a different voice ..</p>
                .</p>
              </div>
              <div class="col l4 offset-20 s2">
                
                <ul>
                  
                    
                </ul>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container">
            © 2016 Copyright Text
            
            </div>
          </div>
          </center>

            


`;

    this.reRender(`
      ${html}

      `,document.getElementById("app"));
    
     
  }

 
Guitar(id){
    let r = this.SearchGuitarById(id);

     let html = `
      <div class="nav-wrapper  #26a69a teal lighten-1">
      <h5 class="center-align">${r.name}</h5>
      </div>
      <div class="row">       
        <div class="col s12 m12">
          <div class="card horizontal small">
            <div class="card-image">
              <img src="${r.image}">
            </div>
            <div class="card-stacked">
              <div class="card-content">
                <p>${r.details}</p>
                 <p>${r.price}</p>
              </div>
              <div class="card-action small">               
                <a class="waves-effect waves-light btn-large red" onclick="component.guitarDelete(${r.id})"><i class="material-icons left">delete</i><span>Delete</span></a>
                <span onclick="component.guitarList(${r.id})" class="waves-effect waves-light btn-large red""><--BACK</span>
                <a class="waves-effect btn violet center" onclick="component.updateGuitarNow(${r.id})"><i class="material-icons left">update</i><span>Update</span></a>
              </div>
            </div>          
          </div>        
        </div>      
      </div>
    `;
    html += `
          </ul>
        </div>      
      </div>
    `;

    this.reRender(`   
      ${html}     
      `,document.getElementById("Guitar"));
     $('#updateGuitarNow').hide();
    $('#Guitar').show();
    $('#guitarRecent').hide();
    $('#guitarList').hide();
    $('#guitarCreate').hide();


      $('#Home').hide();
  }
 updateGuitar(id){
id=id+1;
    let guitarDummy = {
      "id" :  id,
      "name" : $('#name_1').val(),
      "details" : $('#details_1').val(),
      "image" : $('#image_1').val(),
      "price" : $('#price_1').val()
    }

    let r = this.guitar;
    for(let i=0;i<r.length;i++){
      if(r[i].id == id){
        r[i] = guitarDummy;
        break;
      }
    }

    this.guitarList();
  }
 guitarSearch(){
    let m = this.guitar;
    let value = $('#search1').val();
    let html = `
      <ul class="collection">
    `;    
    for(let i=0;i<m.length;i++){
      let expr1 = (m[i].style.toUpperCase().indexOf > -1);
      if(expr1){
        html += `       
          <li class="collection-item avatar">
            <i class="material-icons circle red">play_arrow</i>
            <span class="title">${this.guitar[i].details}</span>
            <p>
              ${this.guiatr[i].price}
            </p>
            <a onclick="component.updateGuitarNow(${this.guitar[i].id})" href="#!" class="secondary-content"><i class="material-icons">mode_edit</i></a>
          </li>       
        `;  
      }     
    }

    html += `
      </ul>
    `;

  this.reRender(html,document.getElementById("searchPageGuitarList"));
  }
  guitarDelete(key){
    let r = this.guitar;
    for(let i=0;i<r.length;i++){
      if(r[i].id == key){
        this.guitar.splice(i,1);
        break;
      }
    }   
    this.guitarList();
  }
   SearchGuitarById(id){
    let r = this.guitar;
    for(let i=0;i<r.length;i++){
      if(id==r[i].id){
        return r[i];
      }
    }
  } 
   guitarList(){
    let html = `

        <nav>
          <div class="nav-wrapper white">
          <form>
            <div class="input-field">       
              <input onkeyup="component.guitarItems(this.value)" id="search" type="search" placeholder="Search" required>
              <label for="search"><i class="material-icons">search</i></label>
              <i class="material-icons">close</i>
            </div>
          </form>
        </div>
      </nav>

    `;

    html += `
      <div class="row" id="guitarItems">
    `;
    let r = this.guitar;
    for(let i=0;i<r.length;i++){
      html+= `
      <div class="col s12 m4">
          <div class="card small hoverable">
            <div class="card-image">
              <img src="${r[i].image}">
              <span class="card-title">${r[i].name}</span>
            </div>
            <div class="card-content">
              <p>${r[i].details}</p>
                 <p>${r.price}</p>
            </div>
            <div class="card-action">
              <a href="#" onclick="component.Guitar(${r[i].id})">Details</a>
            </div>
          </div>
        </div>
      `;
    }

    html += `</div>`;

    this.reRender(`
      ${html}
      `,document.getElementById("guitarList"));
     $('#updateGuitarNow').hide();
    $('#guitarList').show();
    $('#Guitar').hide();
    $('#guitarRecent').hide();
    $('#latestGuitar').hide();
    $('#guitarCreate').hide(); 
       
         $('#Home').hide();
  }
  guitarItems(name){
    let html = ``;
    let r = this.SearchGuitar(name);
    for(let i=0;i<r.length;i++){
      html+= `
        <div class="col s12 m4">
          <div class="card small hoverable">
            <div class="card-image">
              <img src="${r[i].image}">
              <span class="card-title">${r[i].name}</span>
            </div>
            <div class="card-content">
              <p>${r[i].details}</p>
                 <p>${r[i].price}</p>
            </div>
            <div class="card-action">
              <a href="#" onclick="component.Guitar(${r[i].id})">More</a>
            </div>
          </div>
        </div>
      `;
    }   

    this.reRender(`
      ${html}
      `,document.getElementById("guitarItems"));
     $('#updateGuitarNow').hide();
    $('#guitarList').show();
    $('#Guitar').hide();
    $('#guitarRecent').hide();  
    $('#latestGuitar').hide();
        $('#Home').hide();    
  }
  SearchGuitar(name){
    let objects = [];
    let r = this.guitar;
    for(let i=0;i<r.length;i++){
      let expr = (r[i].name.toUpperCase().indexOf(name.toUpperCase()) > -1);
      if(expr){
        objects.push(r[i]);
      }
    }
    return objects;
  }
   guitarCreate(){
    
    let html = `

     
          
       <div class="row white-text">
            <div class="input-field col s6 ">
           
              <center><label for="guitar_id"><span><span class="required"></span></span><input disabled value="${this.guitar.length+1}" id="guitar_id" type="text" ></label></center>
            </div>
              <div class="row">
          <div class="input-field col s6 ">
              <input id="guitar_name" type="text" class=" validate">
              <label for="guitar_name">Type of Guitar</label>
            </div>
          </div>
          
          <div class="row">
            <div class="input-field col s6 ">
              <input id="guitar_details" type="text" class="validate">
             <label for="guitar_details">Guitar Details</label>
            </div>

            <div class="row">
            <div class="input-field col s6 ">
              <input id="guitar_price" type="text" class="validate">
              <label for="guitar_price">Price of Guitar</label>
            </div>
             <div class="input-field col s6 ">
              <input id="guitar_image" type="text" class="validate">
              <label for="guitar_image">Enter Image or Link Address</label>
            </div>
       
        <div align="right">
       
      
       <button onclick="component.guitarList()" class="btn waves-effect waves-light">Back</button>
    <button onclick="component.createGuitar()" class="btn waves-effect waves-light">Save</button>
         </div>
        
      

    `;

    this.reRender(`
      ${html}
      `,document.getElementById("guitarCreate"));
    $('#guitarCreate').show();
    $('#guitarList').hide();
    $('#Guitar').hide();
    $('#guitarRecent').hide();
      
      
  }
  
createGuitar(){

   let id = document.getElementById('guitar_id');
    let name = document.getElementById('guitar_name');
    let details = document.getElementById('guitar_details');
    let image = document.getElementById('guitar_image');
  
let price = document.getElementById('guitar_price');
  
    let guitars = {      
      "id": id.value,
      "name": name.value,
      "details": details.value,
      "image": image.value,
     "price": price.value,
    };


    this.guitar.push(guitars);

    
    id.value = name.value = details.value = image.value =price.value = ''; 
  
  } 
updateGuitarNow(id){
  id=id-1;
    let html = `
      <div class="row white-text">
        <div class="input-field col s6">
         <center><span ><span class="required"></span></span><input disabled value="${this.guitar.length+1}" id="guitar_id" type="text" ></label></center>
          <input id="name_1" type="text" class="validate" value="${this.guitar[id].name}">          
        </div>
        <div class="input-field col s6">
          <input id="details_1" type="text" class="validate" value="${this.guitar[id].details}">
        </div>
         <div class="input-field col s6">
          <input id="price_1" type="text" class="validate" value="${this.guitar[id].price}">
        </div>
        <div class="input-field col s6">
          <input id="image_1" type="text" class="validate" value="${this.guitar[id].image}">
        </div>
      </div>
       <button onclick="component.guitarList()" class="btn waves-effect waves-light">Back</button>
    <a onclick="component.updateGuitar(${id})" class="waves-effect blue waves-light btn">Update</a>
      <hr/>
    `;  
    this.reRender(`
      ${html}
      `,document.getElementById("updateGuitarNow"));   

    $('#updateGuitarNow').show();
    $('#latestGuitar').hide();
    $('#guitarList').hide();
    $('#Guitar').hide();
    $('#guitarRecent').hide();
     
   
  }
Home(){
  let html=`

<div class="slider">
    <ul class="slides">
      <li>
        <img src="img/background1.jpg"> <!-- random image -->
        <div class="caption center-align">
          <h3>Go where the guitar takes you ..</h3>   
        </div>
      </li>
      <li>
        <img src="img/background2.jpg"> <!-- random image -->
        <div class="caption center-align">
          <h3>Music is what is feeling sounds Like ..</h3>
        </div>
      </li>
      <li>
        <img src="img/background3.jpg"> <!-- random image -->
        <div class="caption right-align">
          <h5 class="light grey-text text-lighten-3">Perfect Hands Make Perfect Music</h5>
        </div>
      </li>
      <li>
        <img src="img/background4.jpg"> <!-- random image -->
        <div class="caption center-align">
          <h3>MUSIC IS LIFE</h3>
          
        </div>
      </li>
    </ul>
  </div>
  `;
   this.reRender(`
      ${html}
      `,document.getElementById("Home"));
    $('#createGuitar').hide();
    $('#guitarList').hide();
    $('#Guitar').hide();
    $('#guitarRecent').hide();  

    $('#Home').show();  

}




} 
let component = new Component();
component.guitarDesignLayout();